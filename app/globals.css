@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground: 23, 23, 23;

  /* 5-Scale Palette */
  --mood-red: #ef4444;
  --mood-orange: #f97316;
  --mood-yellow: #eab308;
  --mood-green: #22c55e;
  --mood-blue: #3b82f6;
}

/* FIX: Apply text-size-adjust to html and body for maximum compatibility */
html, body {
  color: rgb(var(--foreground));
  background: #fff588;
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

@layer utilities {
  /* FIX: Explicit ordering for Backdrop Filter (Webkit first, then Standard) */

  .glass-panel {
    @apply bg-white/40 border border-white/50 shadow-[0_8px_32px_0_rgba(0,0,0,0.1)];
    -webkit-backdrop-filter: blur(24px);
    backdrop-filter: blur(24px);
  }

  .glass-input {
    @apply bg-white/60 border border-white/60 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500/50;
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
  }

  .glass-button-active {
     @apply bg-white/70 border-white/70 shadow-lg;
     -webkit-backdrop-filter: blur(12px);
     backdrop-filter: blur(12px);
  }

  /* Animation Utilities */
  .will-change-transform { will-change: transform; }
  .cursor-pointer-events-auto { pointer-events: auto; cursor: pointer; }
}

/* --- Interactive Vignette & Backgrounds --- */

/* Your base animated class */
.bg-warm-deep-animated {
    background: linear-gradient(-45deg, #e0a743, #ffdb25, #fef08a, #ffba31);
    background-size: 300% 300%;
    animation: deepWarmPulse 20s ease infinite;
}

/* Dynamic colors based on the data-mood attribute */
.bg-warm-deep-animated[data-mood="poor"] {
    background: linear-gradient(135deg, #ef4444, #f87171);
}
.bg-warm-deep-animated[data-mood="fair"] {
    background: linear-gradient(135deg, #f97316, #fb923c);
}
.bg-warm-deep-animated[data-mood="good"] {
    background: linear-gradient(135deg, #eab308, #facc15);
}
.bg-warm-deep-animated[data-mood="very-good"] {
    background: linear-gradient(135deg, #22c55e, #4ade80);
}
.bg-warm-deep-animated[data-mood="excellent"] {
    background: linear-gradient(135deg, #3b82f6, #60a5fa);
}

@keyframes deepWarmPulse {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.vignette-overlay {
    background: radial-gradient(circle at center, transparent 40%, rgba(0,0,0,0.15) 100%);
    pointer-events: none;
    position: fixed;
    inset: 0;
    z-index: 0;
}

.custom-select-icon {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.75rem center;
  background-size: 1.5em 1.5em;
  background-repeat: no-repeat;
}